# 音频处理服务配置文件

# 服务配置
service:
  host: 0.0.0.0
  port: 5000
  debug: false
  log_level: INFO

# FFmpeg 配置
ffmpeg:
  path: /usr/bin/ffmpeg
  audio_codec: aac
  bitrate: 128k
  preset: fast
  tune: audio

# HLS 配置
hls:
  output_dir: /tmp/hls
  playlist_name: playlist.m3u8
  segment_duration: 6  # 增加到6秒切片，减少请求频率
  segment_list_size: 3  # 保持3个切片，总缓冲18秒，仍能快速启动
  segment_prefix: segment_
  max_age: 720
  cleanup_interval: 180

# 并发控制配置
concurrency:
  lock_dir: /tmp
  lock_timeout: 30

# 空闲进程配置
idle_process:
  timeout: 300  # 5 分钟
  check_interval: 60  # 1 分钟

# 资源清理配置
cleanup:
  interval: 180  # 3 分钟
  max_log_size: 10485760  # 10 MB